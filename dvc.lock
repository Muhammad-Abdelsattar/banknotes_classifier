schema: '2.0'
stages:
  prepare:
    cmd: unzip -o input/dataset.zip -d input/dataset
    deps:
    - path: input/dataset.zip
      hash: md5
      md5: a6a946cbd46fc55c6348b67f0bcb0db5
      size: 1111958198
    outs:
    - path: input/dataset
      hash: md5
      md5: cbc0c24b00f3e88582c9e174c7a44d12.dir
      size: 1114263724
      nfiles: 35000
  train:
    cmd: python -m steps.train
    deps:
    - path: banknotes_classifier/data
      hash: md5
      md5: 0245ac5c3f49817582c20d12acd06ff6.dir
      size: 3528
      nfiles: 6
    - path: banknotes_classifier/modeling
      hash: md5
      md5: 76dab2c0d4081962b924b22b65ac30ae.dir
      size: 15913
      nfiles: 8
    - path: banknotes_classifier/training
      hash: md5
      md5: 9b9d7a2cd0ede8d27dd3add8b7d2eafe.dir
      size: 2051
      nfiles: 6
    - path: input/dataset
      hash: md5
      md5: cbc0c24b00f3e88582c9e174c7a44d12.dir
      size: 1114263724
      nfiles: 35000
    - path: steps/train.py
      hash: md5
      md5: cc52bc6ae3ce5ab6c9d40241683c1e92
      size: 1981
    outs:
    - path: artifacts/checkpoints/best-checkpoint.ckpt
      hash: md5
      md5: 3e4b9ed4a891fb282250c71f914f64de
      size: 47359398
    - path: reports/metrics.json
      hash: md5
      md5: 51b081c0ca5c76170da01e75cb01d8a9
      size: 275
  export:
    cmd: python -m steps.export
    deps:
    - path: artifacts/checkpoints/best-checkpoint.ckpt
      hash: md5
      md5: 3e4b9ed4a891fb282250c71f914f64de
      size: 47359398
    - path: steps/export.py
      hash: md5
      md5: eed838f9bfffab3bd3dd9b8b4287cfdc
      size: 1530
    outs:
    - path: artifacts/model.onnx
      hash: md5
      md5: abcd2044ab8c362f621f53a464dadbd4
      size: 15650853
  evaluate:
    cmd: echo "Not implemented yet"
